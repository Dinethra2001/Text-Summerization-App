<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Input History</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='history.css') }}"> <!-- Link to your CSS file -->
</head>

<body>
    <h1>Your Input History</h1>
    <div id="input-history">
        <p class="no-inputs">No inputs found.</p> <!-- This will be replaced with the actual history if available -->
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
    $(document).ready(function() {
        // Fetch user inputs when the document is ready
        $.ajax({
            url: "/get_user_inputs",
            type: "GET",
            success: function(response) {
                const inputs = response.inputs;
                if (inputs.length > 0) {
                    // Clear the default message
                    $('#input-history').empty();

                    // Create a single box for all inputs
                    const historyBox = $('<div class="input-box"></div>');
                    const title = $('<h5 class="card-title">Text</h5>'); // Title for the box

                    // Create a list for input values
                    const inputList = $('<ul></ul>');

                    // Append each input value as a list item
                    inputs.forEach(function(input) {
                        inputList.append(`<li>${input.input_value}</li>`);
                    });

                    // Append title and list to the history box
                    historyBox.append(title);
                    historyBox.append(inputList);

                    // Add the history box to the input history section
                    $('#input-history').append(historyBox);
                } else {
                    $('#input-history').html('<p>No inputs found.</p>');
                }
            },
            error: function(xhr, status, error) {
                console.error("An error occurred: " + error);
                $('#input-history').html('<p>An error occurred while fetching inputs.</p>');
            }
        });
    });

    
    </script>
    
    <style>
        #input-history {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .input-box {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            background-color: #ffffff; /* White background for the input box */
            width: 90%; /* Width of the input box */
            max-width: 600px; /* Maximum width */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Shadow for depth */
        }
        ul {
            list-style-type: none; /* Remove bullet points */
            padding-left: 0; /* Remove padding */
        }
        li {
            margin: 5px 0; /* Space between list items */
        }
        .no-inputs {
            color: #888; /* Lighter gray for "no inputs" message */
            text-align: center; /* Center the no-inputs message */
        }
    </style>
</body>
</html>
